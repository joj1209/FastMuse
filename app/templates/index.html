<!doctype html>
<html lang="en" data-bs-theme="auto">
    <head>
        <link rel="icon" href="{{ url_for('static', path='favicon.ico') }}">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=yes">
        <script>
        // DOM API 기반 공통 생성 함수
        function el(tag, attrs = {}, children = []) {
            const node = document.createElement(tag);
            for (const [k, v] of Object.entries(attrs)) {
                if (k === 'class') node.className = v;
                else if (k === 'text') node.textContent = v;
                else if (k.startsWith('on') && typeof v === 'function') node.addEventListener(k.slice(2), v);
                else node.setAttribute(k, v);
            }
            (Array.isArray(children) ? children : [children]).forEach(c => {
                if (c == null) return;
                node.append(c.nodeType ? c : document.createTextNode(c));
            });
            return node;
        }

        // API별 타이틀
        const titleMap = {
            211: "Seoul API : 자치구단위 서울 생활인구(장기체류 외국인)",
            210: "Jeju API : 지역별 시간단위 방문자수",
            209: "기상청 : 동네별시간예보",
            208: "Public Data : Apartment Trade",
            207: "Kakao API Talk",
            206: "Kakao AI Image",
            205: "Youtube 키워드 검색 : UHD모니터",
            204: "네이버 블로그 키워드 검색 : 시흥대야역 맛집",
            203: "FinanceDataReader 글로벌마켓 Top 10",
            202: "전기차 출고대수 Top 10",
            201: "Stock Top 5",
            212: "ApacheBatch Stats",
        };

        // API별 endpoint
        const apiMap = {
            201: "/api/stock/top5",
            202: "/api/ev/top10",
            203: "/api/market/top10",
            204: "/api/blog/naver",
            205: "/api/youtube/comments",
            206: "/api/kakao/ai-image",
            207: "/api/kakao/talk",
            208: "/api/public/apt-trade",
            209: "/api/kma/forecast",
            210: "/api/jeju/flo-pop",
            211: "/api/seoul/for-pop",
            212: "/api/batch/stats"
        };

        // 날짜 검색 카드 생성
        function createDateSearchCard(menuNumber) {
            const todayStr = new Date().toISOString().split('T')[0];
            return el('div', { class: 'card mb-4' }, [
                el('div', { class: 'card-header' }, el('h6', { class: 'card-title mb-0' }, '검색 조건')),
                el('div', { class: 'card-body' }, [
                    el('div', { class: 'row g-3' }, [
                        el('div', { class: 'col-md-4' }, [
                            el('label', { for: 'searchStartDate', class: 'form-label fs-6' }, '시작일자'),
                            el('input', { id: 'searchStartDate', type: 'date', class: 'form-control', value: todayStr })
                        ]),
                        el('div', { class: 'col-md-4' }, [
                            el('label', { for: 'searchEndDate', class: 'form-label fs-6' }, '종료일자'),
                            el('input', { id: 'searchEndDate', type: 'date', class: 'form-control', value: todayStr })
                        ]),
                        el('div', { class: 'col-md-4 d-flex align-items-end gap-2' }, [
                            el('button', { class: 'btn btn-primary', onclick: () => searchApiDataBetween(menuNumber) }, '조회'),
                            el('button', { class: 'btn btn-outline-secondary', onclick: () => setPeriod(7) }, '7일전'),
                            el('button', { class: 'btn btn-outline-secondary', onclick: () => setPeriod(30) }, '한달전'),
                            el('button', { class: 'btn btn-outline-secondary', onclick: () => setPeriod(180) }, '6개월전')
                        ])
                    ])
                ])
            ]);
        }

        // 기간 버튼 클릭 시 시작일자 변경
        function setPeriod(daysAgo) {
            const s = document.getElementById('searchStartDate');
            const e = document.getElementById('searchEndDate');
            const today = new Date();
            const start = new Date(today.getTime() - daysAgo * 24 * 60 * 60 * 1000);
            if (s) s.value = start.toISOString().split('T')[0];
            if (e) e.value = today.toISOString().split('T')[0];
        }

        // 메인 컨텐츠 렌더링
        function renderMainContent(menuNumber) {
            const main = document.getElementById('main-content');
            main.innerHTML = '';
            if (menuNumber >= 202 && menuNumber <= 211) {
                main.append(el('h2', {}, titleMap[menuNumber]));
                main.append(createDateSearchCard(menuNumber));
                main.append(el('div', { id: 'searchResults' }, '조회 버튼을 눌러 데이터를 검색하세요.'));
            } else if (menuNumber === 201) {
                main.append(el('h2', {}, titleMap[menuNumber]));
                main.append(createDateSearchCard(menuNumber));
                main.append(el('div', { id: 'searchResults' }, '조회 버튼을 눌러 데이터를 검색하세요.'));
            } else {
                main.append(el('div', { class: 'py-4' }, '메뉴를 선택하세요.'));
            }
        }

        // API 데이터 조회 및 테이블 렌더링
        async function searchApiDataBetween(menuNumber) {
            const s = document.getElementById('searchStartDate')?.value;
            const e = document.getElementById('searchEndDate')?.value;
            const resultsDiv = document.getElementById('searchResults');
            if (!s || !e) {
                alert('시작일자와 종료일자를 모두 선택해주세요.');
                return;
            }
            if (s > e) {
                alert('시작일자가 종료일자보다 클 수 없습니다.');
                return;
            }
            resultsDiv.innerHTML = '';
            resultsDiv.append(el('div', { class: 'py-4 d-flex align-items-center gap-2' }, [
                el('div', { class: 'spinner-border', role: 'status', 'aria-hidden': 'true' }),
                el('span', { class: 'text-muted' }, '데이터를 조회중입니다...')
            ]));
            try {
                const url = `${apiMap[menuNumber]}?start_date=${s}&end_date=${e}`;
                const res = await fetch(url);
                const data = await res.json();
                const rows = data.items || [];
                // 결과 테이블 컬럼/행 생성
                let columns = [];
                switch(menuNumber) {
                    case 201:
                        columns = [
                            ["기준일자","strd_dt"],
                            ["종목코드","stock_cd"],
                            ["종목명","stock_nm"],
                            ["전일가","pre_price"],
                            ["현재가","today_price"],
                            ["거래량","trading_volume"],
                            ["입력일시","ins_dt"]
                        ];
                        break;
                    case 202:
                        columns = [
                            ["기준일자","strd_dt"],
                            ["시도명","sido_nm"],
                            ["지역명","region"],
                            ["접수방법","receipt_way"],
                            ["접수순위","receipt_priority"],
                            ["보급대수","value"],
                            ["입력일시","ins_dt"]
                        ];
                        break;
                    case 203:
                        columns = [
                            ["기준일자","strd_dt"],["마켓","market"],["주식일자","stock_day"],["시가","opening_price"],["고가","high_price"],["저가","low_price"],["종가","closing_price"],["거래량","volume"]
                        ];
                        break;
                    case 204:
                        columns = [
                            ["기준일자","strd_dt"],["검색어","keword"],["제목","title"],["링크","link"],["입력일시","ins_dt"]
                        ];
                        break;
                    case 205:
                        columns = [
                            ["기준일자","strd_dt"],["검색어","keword"],["링크","link"],["비디오ID","video_id"],["댓글게시자","comment_author"],["입력일시","ins_dt"]
                        ];
                        break;
                    case 206:
                        columns = [
                            ["기준일자","strd_dt"],["제시어","suggest_word"]
                        ];
                        break;
                    case 207:
                        columns = [
                            ["기준일자","strd_dt"],["접근토큰","access_token"],["토큰타입","token_type"],["갱신토큰","refresh_token"],["접근범위","scope"],["변경일시","upd_dt"],["입력일시","ins_dt"]
                        ];
                        break;
                    case 208:
                        columns = [
                            ["기준일자","strd_dt"],["법정동","sgg_cd"],["도로명","road_nm"],["단지명","apt_nm"],["전용면적","excul_use_area"],["계약년도","deal_year"],["거래금액","deal_amount"],["층","floor"],["건축년도","build_year"],["입력일시","ins_dt"]
                        ];
                        break;
                    case 209:
                        columns = [
                            ["기준일자","strd_dt"],["기준시간","strd_tm"],["카테고리","category"],["예보지점X좌표","nx"],["예보지점Y좌표","ny"],["강수량","obsr_value"],["입력일시","ins_dt"]
                        ];
                        break;
                    case 210:
                        columns = [
                            ["기준일자","strd_dt"],["등록일자","regist_dt"],["시군구","city"],["읍면동","emd"],["성별","gender"],["연령대","age_group"],["거주인구","resd_pop"],["근무인구","work_pop"],["방문자수","visit_pop"],["입력일시","ins_dt"]
                        ];
                        break;
                    case 211:
                        columns = [
                            ["기준일자","strd_dt"],["기준일ID","stdr_de_id"],["시간대구분","tmzon_pd_se"],["자치구코드","adstrd_code_se"],["총생활인구수","tot_lvpop_co"],["중국인체류인구수","china_staypop_co"],["중국인 외국인체류인구수","etc_staypop_co"],["입력일시","ins_dt"]
                        ];
                        break;
                    case 212:
                        columns = [
                            ["통계일자","stat_date"],["배치명","batch_name"],["상태","status"],["시작시간","start_time"],["종료시간","end_time"],["소요시간","duration"]
                        ];
                        break;
                }
                const table = el('table', { class: 'table table-striped table-sm' });
                const thead = el('thead');
                const trh = el('tr');
                columns.forEach(([text]) => trh.append(el('th', {}, text)));
                thead.append(trh);
                table.append(thead);
                const tbody = el('tbody');
                rows.forEach(row => {
                    const tr = el('tr');
                    columns.forEach(([_, key]) => tr.append(el('td', {}, row?.[key] ?? "")));
                    tbody.append(tr);
                });
                table.append(tbody);
                resultsDiv.innerHTML = '';
                resultsDiv.append(
                    el('div', { class: 'mb-2' },
                        el('small', { class: 'text-muted' }, `총 ${rows.length}건의 데이터가 조회되었습니다.`)
                    ),
                    el('div', { class: 'table-responsive small' }, table)
                );
            } catch (e2) {
                resultsDiv.innerHTML = '';
                resultsDiv.append(el('div', { class: 'alert alert-danger' }, `데이터 조회 중 오류가 발생했습니다: ${e2.message}`));
            }
        }

        // 사이드바 메뉴 클릭 이벤트 위임
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('sidebar').addEventListener('click', function(e) {
                const a = e.target.closest('a[data-menu]');
                if (a) {
                    e.preventDefault();
                    const menuNum = Number(a.dataset.menu);
                    renderMainContent(menuNum);
                }
            });
        });
        </script>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <title>W.S.C.</title>

        <link
            rel="canonical"
            href="https://getbootstrap.com/docs/5.3/examples/headers/">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
        <link rel="stylesheet" href="{{ url_for('static', path='bootstrap.min.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', path='assets/dist/css/bootstrap.min.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', path='assets/dist/css/dashboard.css') }}">


        <!-- Custom styles for this template -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.min.css"
            rel="stylesheet">
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
            rel="stylesheet">

        <style >
            .b-example-divider {
                width: 100%;
                height: 1rem;
                background-color: rgba(0, 0, 0, .1);
                border: solid rgba(0, 0, 0, .15);
                border-width: 1px 0;
                box-shadow: inset 0 0.5em 1.5em rgba(0, 0, 0, .1), inset 0 0.125em 0.5em rgba(0, 0, 0, .15);
            }
        </style>

        

    </head>
    <body>

        <h1 class="visually-hidden">Headers examples</h1>
        <div class="container my-3">
            <!-- 모든 크롤링 버튼들이 하위 메뉴로 이동되었습니다 -->
        </div>
        <script>
        async function runNaverFinanceCrawler() {
            try {
                const res = await fetch('/api/run/naver-finance-crawler', {method: 'POST'});
                const data = await res.json();
                alert(`네이버 금융 크롤링 완료!\n수집된 종목 수: ${data.count || 0}`);
            } catch (error) {
                alert(`네이버 금융 크롤링 오류: ${error.message}`);
            }
        }
        
        async function runEvCarPortalCrawler() {
            try {
                const res = await fetch('/api/run/ev-car-portal-crawler', {method: 'POST'});
                const data = await res.json();
                alert(`EV 포털 크롤링 완료!\n수집된 데이터 수: ${data.count || 0}`);
            } catch (error) {
                alert(`EV 포털 크롤링 오류: ${error.message}`);
            }
        }
        
        async function runFinanceDataReader() {
            try {
                const res = await fetch('/api/run/finance-data-reader', {method: 'POST'});
                const data = await res.json();
                alert('FinanceDataReader 실행 완료! 데이터 row 수: ' + (data.rows ? data.rows.length : 0));
            } catch (error) {
                alert(`FinanceDataReader 오류: ${error.message}`);
            }
        }
        
        async function runNaverBlogCrawler() {
            try {
                const res = await fetch('/api/run/naver-blog-crawler', {method: 'POST'});
                const data = await res.json();
                alert(`네이버 블로그 검색 완료!\n검색된 블로그 수: ${data.count || 0}\n키워드: 시흥대야역맛집`);
            } catch (error) {
                alert(`네이버 블로그 검색 오류: ${error.message}`);
            }
        }
        
        async function runYoutubeCommentCrawler() {
            try {
                const res = await fetch('/api/run/youtube-comment-crawler', {method: 'POST'});
                const data = await res.json();
                alert(`유튜브 댓글 검색 완료!\n수집된 댓글 수: ${data.count || 0}\n키워드: 19인치노트북`);
            } catch (error) {
                alert(`유튜브 댓글 검색 오류: ${error.message}`);
            }
        }
        
        async function runKakaoTalkCrawler() {
            try {
                const res = await fetch('/api/run/kakao-talk-crawler', {method: 'POST'});
                const data = await res.json();
                if (data.error) {
                    alert('오류: ' + data.error);
                } else {
                    alert('카카오톡 메시지 전송이 완료되었습니다!\n' + data.message);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('카카오톡 API 실행 중 오류가 발생했습니다.');
            }
        }
        
        // 서울 공공데이터 크롤러 실행 함수
        async function runSeoulPublicDataCrawler() {
            try {
                const res = await fetch('/api/run/seoul-public-data-crawler', {method: 'POST'});
                const data = await res.json();
                
                if (data.error) {
                    alert('오류: ' + data.error);
                } else if (data.result && data.result.status === 'success') {
                    alert(`서울 공공데이터 수집이 완료되었습니다!\n` +
                          `수집 건수: ${data.result.total_records}건\n` +
                          `저장 건수: ${data.result.saved_records}건\n` +
                          `API: ${data.result.api_endpoint}`);
                } else {
                    alert('오류: ' + (data.result ? data.result.message : '알 수 없는 오류'));
                }
            } catch (error) {
                console.error('Error:', error);
                alert('서울 공공데이터 수집 중 오류가 발생했습니다.');
            }
        }
        
        async function runKmaPublicDataCrawler() {
            try {
                const res = await fetch('/api/run/kma-public-data-crawler', {method: 'POST'});
                const data = await res.json();
                
                if (data.error) {
                    alert('오류: ' + data.error);
                } else if (data.result && data.result.status === 'success') {
                    alert(`기상청 공공데이터 수집이 완료되었습니다!\n` +
                          `수집 건수: ${data.result.total_records}건\n` +
                          `저장 건수: ${data.result.saved_records}건\n` +
                          `기준 시간: ${data.result.base_time}\n` +
                          `좌표: ${data.result.coordinates}`);
                } else {
                    alert('오류: ' + (data.result ? data.result.message : '알 수 없는 오류'));
                }
            } catch (error) {
                console.error('Error:', error);
                alert('기상청 공공데이터 수집 중 오류가 발생했습니다.');
            }
        }
        
        async function runJejuPublicDataCrawler() {
            try {
                const res = await fetch('/api/run/jeju-public-data-crawler', {method: 'POST'});
                const data = await res.json();
                
                if (data.error) {
                    alert('오류: ' + data.error);
                } else if (data.result && data.result.status === 'success') {
                    alert(`제주 공공데이터 수집이 완료되었습니다!\n` +
                          `수집 건수: ${data.result.total_records}건\n` +
                          `저장 건수: ${data.result.saved_records}건\n` +
                          `날짜 범위: ${data.result.date_range}\n` +
                          `수집 지역: ${data.result.regions ? data.result.regions.join(', ') : 'N/A'}`);
                } else {
                    alert('오류: ' + (data.result ? data.result.message : '알 수 없는 오류'));
                }
            } catch (error) {
                console.error('Error:', error);
                alert('제주 공공데이터 수집 중 오류가 발생했습니다.');
            }
        }
        
        async function runAirflowBashOperator() {
            try {
                // Docker 상태 먼저 확인
                const statusRes = await fetch('/api/status/airflow');
                const statusData = await statusRes.json();
                
                if (statusData.status === 'error') {
                    alert('Docker 연결 오류:\n' + statusData.message + '\n\n해결 방법:\n1. Docker Desktop을 실행하세요\n2. Airflow 컨테이너가 실행 중인지 확인하세요');
                    return;
                }
                
                // DAG 실행
                const res = await fetch('/api/run/airflow-bash-operator', {method: 'POST'});
                const data = await res.json();
                
                if (data.error) {
                    alert('Airflow DAG 실행 오류:\n' + data.error + '\n\n상세 정보:\n' + (data.details || '상세 정보 없음'));
                } else if (data.status === 'error') {
                    alert('실행 실패:\n' + data.message);
                } else {
                    alert('✅ Airflow DAG 실행 성공!\n\n' + data.message);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('❌ 네트워크 오류가 발생했습니다:\n' + error.message + '\n\n서버가 실행 중인지 확인하세요.');
            }
        }
        
        function toggleAirflowSubmenu() {
            const submenu = document.getElementById('airflowSubmenu');
            const icon = document.getElementById('airflowToggleIcon');
            
            if (submenu.classList.contains('show')) {
                icon.innerHTML = '<use xlink:href="#chevron-right"/>';
            } else {
                icon.innerHTML = '<use xlink:href="#chevron-down"/>';
            }
        }
        
        function toggleNaverFinanceSubmenu() {
            const submenu = document.getElementById('naverFinanceSubmenu');
            const icon = document.getElementById('naverFinanceToggleIcon');
            
            if (submenu.classList.contains('show')) {
                icon.innerHTML = '<use xlink:href="#chevron-right"/>';
            } else {
                icon.innerHTML = '<use xlink:href="#chevron-down"/>';
            }
        }
        
        function toggleEvPortalSubmenu() {
            const submenu = document.getElementById('evPortalSubmenu');
            const icon = document.getElementById('evPortalToggleIcon');
            
            if (submenu.classList.contains('show')) {
                icon.innerHTML = '<use xlink:href="#chevron-right"/>';
            } else {
                icon.innerHTML = '<use xlink:href="#chevron-down"/>';
            }
        }
        
        function toggleFinanceDataReaderSubmenu() {
            const submenu = document.getElementById('financeDataReaderSubmenu');
            const icon = document.getElementById('financeDataReaderToggleIcon');
            
            if (submenu.classList.contains('show')) {
                icon.innerHTML = '<use xlink:href="#chevron-right"/>';
            } else {
                icon.innerHTML = '<use xlink:href="#chevron-down"/>';
            }
        }
        
        function toggleNaverApiSubmenu() {
            const submenu = document.getElementById('naverApiSubmenu');
            const icon = document.getElementById('naverApiToggleIcon');
            
            if (submenu.classList.contains('show')) {
                icon.innerHTML = '<use xlink:href="#chevron-right"/>';
            } else {
                icon.innerHTML = '<use xlink:href="#chevron-down"/>';
            }
        }
        
        function toggleGoogleApiSubmenu() {
            const submenu = document.getElementById('googleApiSubmenu');
            const icon = document.getElementById('googleApiToggleIcon');
            
            if (submenu.classList.contains('show')) {
                icon.innerHTML = '<use xlink:href="#chevron-right"/>';
            } else {
                icon.innerHTML = '<use xlink:href="#chevron-down"/>';
            }
        }
        
        function toggleKakaoApiSubmenu() {
            const submenu = document.getElementById('kakaoApiSubmenu');
            const icon = document.getElementById('kakaoApiToggleIcon');
            
            if (submenu.classList.contains('show')) {
                icon.innerHTML = '<use xlink:href="#chevron-right"/>';
            } else {
                icon.innerHTML = '<use xlink:href="#chevron-down"/>';
            }
        }
        
        function toggleKmaApiSubmenu() {
            const submenu = document.getElementById('kmaApiSubmenu');
            const icon = document.getElementById('kmaApiToggleIcon');
            
            if (submenu.classList.contains('show')) {
                icon.innerHTML = '<use xlink:href="#chevron-right"/>';
            } else {
                icon.innerHTML = '<use xlink:href="#chevron-down"/>';
            }
        }
        
        function toggleJejuApiSubmenu() {
            const submenu = document.getElementById('jejuApiSubmenu');
            const icon = document.getElementById('jejuApiToggleIcon');
            
            if (submenu.classList.contains('show')) {
                icon.innerHTML = '<use xlink:href="#chevron-right"/>';
            } else {
                icon.innerHTML = '<use xlink:href="#chevron-down"/>';
            }
        }
        
        function toggleSeoulApiSubmenu() {
            const submenu = document.getElementById('seoulApiSubmenu');
            const icon = document.getElementById('seoulApiToggleIcon');
            
            if (submenu.classList.contains('show')) {
                icon.innerHTML = '<use xlink:href="#chevron-right"/>';
            } else {
                icon.innerHTML = '<use xlink:href="#chevron-down"/>';
            }
        }
        
        function togglePublicApiSubmenu() {
            const submenu = document.getElementById('publicApiSubmenu');
            const icon = document.getElementById('publicApiToggleIcon');
            
            if (submenu.classList.contains('show')) {
                icon.innerHTML = '<use xlink:href="#chevron-right"/>';
            } else {
                icon.innerHTML = '<use xlink:href="#chevron-down"/>';
            }
        }
        </script>

        <!-- header start -->
        <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
            <symbol id="bootstrap" viewbox="0 0 118 94">
                <title>Bootstrap</title>
                <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z"></path>
            </symbol>
        </svg>

    <header class="container-fluid d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom sticky-top bg-white" style="z-index: 1030;">
                <a
                    href="/"
                    class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
                    <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"/></svg>
                    <span class="fs-4">Web Scraping & Crawling</span>
                </a>

                <ul class="nav nav-pills">
                    <li class="nav-item">
                        <a href="/" class="nav-link active" aria-current="page">Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">Features</a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">FAQs</a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">About</a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">Login</a>
                    </li>
                </ul>
            </header>
        </div>
        <!-- header end -->

        <!-- main(section) start -->
        <div class="container-fluid">
            <div class="row align-items-start">
                    <nav class="sidebar border-end col-md-3 col-lg-2 p-0 bg-body-tertiary min-vh-100">
                    <h6
                        class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-body-secondary text-uppercase">
                        <span>Open API</span>
                        <a class="link-secondary" href="#" aria-label="Add a new report">
                            <svg class="bi"><use xlink:href="#plus-circle"/></svg>
                        </a>
                    </h6>
                    <ul class="nav nav-pills flex-column mb-auto gap-2">
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="toggleNaverFinanceSubmenu()" data-bs-toggle="collapse" data-bs-target="#naverFinanceSubmenu" aria-expanded="false">
                                <svg class="bi"><use xlink:href="#file-earmark-text"/></svg>
                                Naver Finance
                                <svg class="bi ms-auto" id="naverFinanceToggleIcon"><use xlink:href="#chevron-right"/></svg>
                            </a>
                            <div class="collapse" id="naverFinanceSubmenu">
                                <ul class="nav nav-pills flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="renderMainContent(201)">
                                            <svg class="bi"><use xlink:href="#table"/></svg>
                                            Naver Finance 조회
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="runNaverFinanceCrawler()">
                                            <svg class="bi"><use xlink:href="#play-circle"/></svg>
                                            네이버 금융 크롤링
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="toggleEvPortalSubmenu()" data-bs-toggle="collapse" data-bs-target="#evPortalSubmenu" aria-expanded="false">
                                <svg class="bi"><use xlink:href="#file-earmark-text"/></svg>
                                EV Portal
                                <svg class="bi ms-auto" id="evPortalToggleIcon"><use xlink:href="#chevron-right"/></svg>
                            </a>
                            <div class="collapse" id="evPortalSubmenu">
                                <ul class="nav nav-pills flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="renderMainContent(202)">
                                            <svg class="bi"><use xlink:href="#table"/></svg>
                                            EV Portal 조회
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="runEvCarPortalCrawler()">
                                            <svg class="bi"><use xlink:href="#play-circle"/></svg>
                                            EV 포털 크롤링
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="toggleFinanceDataReaderSubmenu()" data-bs-toggle="collapse" data-bs-target="#financeDataReaderSubmenu" aria-expanded="false">
                                <svg class="bi"><use xlink:href="#file-earmark-text"/></svg>
                                Finance Data Reader
                                <svg class="bi ms-auto" id="financeDataReaderToggleIcon"><use xlink:href="#chevron-right"/></svg>
                            </a>
                            <div class="collapse" id="financeDataReaderSubmenu">
                                <ul class="nav nav-pills flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="renderMainContent(203)">
                                            <svg class="bi"><use xlink:href="#table"/></svg>
                                            Finance Data Reader 조회
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="runFinanceDataReader()">
                                            <svg class="bi"><use xlink:href="#play-circle"/></svg>
                                            FinanceDataReader 실행
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="toggleNaverApiSubmenu()" data-bs-toggle="collapse" data-bs-target="#naverApiSubmenu" aria-expanded="false">
                                <svg class="bi"><use xlink:href="#file-earmark-text"/></svg>
                                Naver API
                                <svg class="bi ms-auto" id="naverApiToggleIcon"><use xlink:href="#chevron-right"/></svg>
                            </a>
                            <div class="collapse" id="naverApiSubmenu">
                                <ul class="nav nav-pills flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="renderMainContent(204)">
                                            <svg class="bi"><use xlink:href="#table"/></svg>
                                            Naver API 조회
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="runNaverBlogCrawler()">
                                            <svg class="bi"><use xlink:href="#play-circle"/></svg>
                                            네이버 블로그 검색
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="toggleGoogleApiSubmenu()" data-bs-toggle="collapse" data-bs-target="#googleApiSubmenu" aria-expanded="false">
                                <svg class="bi"><use xlink:href="#file-earmark-text"/></svg>
                                Google API
                                <svg class="bi ms-auto" id="googleApiToggleIcon"><use xlink:href="#chevron-right"/></svg>
                            </a>
                            <div class="collapse" id="googleApiSubmenu">
                                <ul class="nav nav-pills flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="renderMainContent(205)">
                                            <svg class="bi"><use xlink:href="#table"/></svg>
                                            Google API 조회
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="runYoutubeCommentCrawler()">
                                            <svg class="bi"><use xlink:href="#play-circle"/></svg>
                                            유튜브 댓글 검색
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="toggleKakaoApiSubmenu()" data-bs-toggle="collapse" data-bs-target="#kakaoApiSubmenu" aria-expanded="false">
                                <svg class="bi"><use xlink:href="#file-earmark-text"/></svg>
                                Kakao API
                                <svg class="bi ms-auto" id="kakaoApiToggleIcon"><use xlink:href="#chevron-right"/></svg>
                            </a>
                            <div class="collapse" id="kakaoApiSubmenu">
                                <ul class="nav nav-pills flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="renderMainContent(206)">
                                            <svg class="bi"><use xlink:href="#table"/></svg>
                                            Kakao AI Image 조회
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="renderMainContent(207)">
                                            <svg class="bi"><use xlink:href="#table"/></svg>
                                            Kakao Talk 조회
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="runKakaoTalkCrawler()">
                                            <svg class="bi"><use xlink:href="#play-circle"/></svg>
                                            KakaoAPI Talk 실행
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="togglePublicApiSubmenu()" data-bs-toggle="collapse" data-bs-target="#publicApiSubmenu" aria-expanded="false">
                                <svg class="bi"><use xlink:href="#file-earmark-text"/></svg>
                                Public API
                                <svg class="bi ms-auto" id="publicApiToggleIcon"><use xlink:href="#chevron-right"/></svg>
                            </a>
                            <div class="collapse" id="publicApiSubmenu">
                                <ul class="nav nav-pills flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="renderMainContent(208)">
                                            <svg class="bi"><use xlink:href="#table"/></svg>
                                            Public API 조회
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="toggleKmaApiSubmenu()" data-bs-toggle="collapse" data-bs-target="#kmaApiSubmenu" aria-expanded="false">
                                <svg class="bi"><use xlink:href="#file-earmark-text"/></svg>
                                KMA API
                                <svg class="bi ms-auto" id="kmaApiToggleIcon"><use xlink:href="#chevron-right"/></svg>
                            </a>
                            <div class="collapse" id="kmaApiSubmenu">
                                <ul class="nav nav-pills flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="renderMainContent(209)">
                                            <svg class="bi"><use xlink:href="#table"/></svg>
                                            KMA API 조회
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="runKmaPublicDataCrawler()">
                                            <svg class="bi"><use xlink:href="#play-circle"/></svg>
                                            기상청공공데이터
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="toggleJejuApiSubmenu()" data-bs-toggle="collapse" data-bs-target="#jejuApiSubmenu" aria-expanded="false">
                                <svg class="bi"><use xlink:href="#file-earmark-text"/></svg>
                                Jeju API
                                <svg class="bi ms-auto" id="jejuApiToggleIcon"><use xlink:href="#chevron-right"/></svg>
                            </a>
                            <div class="collapse" id="jejuApiSubmenu">
                                <ul class="nav nav-pills flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="renderMainContent(210)">
                                            <svg class="bi"><use xlink:href="#table"/></svg>
                                            Jeju API 조회
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="runJejuPublicDataCrawler()">
                                            <svg class="bi"><use xlink:href="#play-circle"/></svg>
                                            제주공공데이터
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="toggleSeoulApiSubmenu()" data-bs-toggle="collapse" data-bs-target="#seoulApiSubmenu" aria-expanded="false">
                                <svg class="bi"><use xlink:href="#file-earmark-text"/></svg>
                                Seoul API
                                <svg class="bi ms-auto" id="seoulApiToggleIcon"><use xlink:href="#chevron-right"/></svg>
                            </a>
                            <div class="collapse" id="seoulApiSubmenu">
                                <ul class="nav nav-pills flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="renderMainContent(211)">
                                            <svg class="bi"><use xlink:href="#table"/></svg>
                                            Seoul API 조회
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2 w-100 text-start ps-3" href="#" onclick="runSeoulPublicDataCrawler()">
                                            <svg class="bi"><use xlink:href="#play-circle"/></svg>
                                            서울시공공데이터
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    </ul>

                    <hr class="my-3">

                    <h6
                        class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-body-secondary text-uppercase">
                        <span>Schedule</span>
                        <a class="link-secondary" href="#" aria-label="Add a new report">                        
                            <svg class="bi"><use xlink:href="#plus-circle"/></svg>
                        </a>
                    </h6>
                    <ul class="nav nav-pills flex-column mb-auto">
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center gap-2" href="#" onclick="toggleAirflowSubmenu()" data-bs-toggle="collapse" data-bs-target="#airflowSubmenu" aria-expanded="false">
                                <svg class="bi"><use xlink:href="#gear-wide-connected"/></svg>
                                Airflow
                                <svg class="bi ms-auto" id="airflowToggleIcon"><use xlink:href="#chevron-right"/></svg>
                            </a>
                            <div class="collapse" id="airflowSubmenu">
                                <ul class="nav nav-pills flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link d-flex align-items-center gap-2" href="#" onclick="runAirflowBashOperator()">
                                            <svg class="bi"><use xlink:href="#play-circle"/></svg>
                                            dags_bash_operator
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item">
                            {# <a class="nav-link d-flex align-items-center gap-2" href="#"> #}
                            <a class="nav-link d-flex align-items-center gap-2" href="#" onclick="renderMainContent(212)">
                                <svg class="bi"><use xlink:href="#door-closed"/></svg>
                                ApachBatch
                            </a>
                        </li>
                    </ul>

                    <hr class="my-3">
                    <h6
                        class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-body-secondary text-uppercase">
                        <span>Reports</span>
                        <a class="link-secondary" href="#" aria-label="Add a new report">
                            <svg class="bi"><use xlink:href="#plus-circle"/></svg>
                        </a>
                    </h6>
                    <ul class="nav nav-pills flex-column mb-auto">
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center gap-2" href="#">
                                <svg class="bi"><use xlink:href="#gear-wide-connected"/></svg>
                                Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link d-flex align-items-center gap-2" href="#">
                                <svg class="bi"><use xlink:href="#door-closed"/></svg>
                                Excel
                            </a>
                        </li>
                    </ul>

                </nav>
                <!-- main/grid start -->
                    <main id="main-content" class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                    <h2>Main image preparing</h2>
                    <div class="table-responsive small">
                        <img src="{{ url_for('static', path='image/stacks-of-coins-arranged-in-a-bar-graph.jpg') }}" width="900px" height="700px">
                        <table class="table table-striped table-sm">
                    {# include 'dbms/list_naver.html' #}
                        </table>
                    </div>
                </main>
                <!-- main/grid end -->
            </div>
        </div>
        <!-- main(section) start -->

        <!-- footer start -->
        <div class="b-example-divider"></div>

        <footer class="container-fluid py-3 my-4">
                <ul class="nav justify-content-center border-bottom pb-3 mb-3">
                    <li class="nav-item">
                        <a href="#" class="nav-link px-2 text-body-secondary">Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link px-2 text-body-secondary">Features</a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link px-2 text-body-secondary">Pricing</a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link px-2 text-body-secondary">FAQs</a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link px-2 text-body-secondary">About</a>
                    </li>
                </ul>
                <p class="text-center text-body-secondary">&copy; 2024 Company, Inc</p>
            </footer>
        </div>
        <!-- footer end -->

        <!-- Bootstrap JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>